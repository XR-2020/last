webpackJsonp([38],{Oqb8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("Nv5k"),i("Ntl1");var r=i("7GrU"),a=i("rraK"),l={inject:["reload"],name:"SheKeChuShenBao",data:function(){return{typeList:["社科处_3.纵向结题","社科处_7.科研获奖"],form:{chengguotype:"",shenbaotype:"",name:"",finishtime:"",people:[],partment:"",role:localStorage.getItem("ms_role"),shenbao:localStorage.getItem("ms_badge"),path:"",jietidengji:"",xiangmujibie:"",jianglijibie:"",jianglidengji:"",huojiangleibie:""},teacher_list:[{name:"aa",badge:1111}],rules:{name:[{required:!0,message:"必填",trigger:"blur"}],partment:[{required:!0,message:"必填",trigger:"blur"}],finishtime:[{required:!0,message:"必填",trigger:"blur"}],people:[{required:!0,message:"必填",trigger:"blur"}],path:[{required:!0,message:"必填",trigger:"blur"}],huojiangleibie:[{required:!0,message:"必填",trigger:"blur"}],jianglidengji:[{required:!0,message:"必填",trigger:"blur"}],jianglijibie:[{required:!0,message:"必填",trigger:"blur"}],xiangmujibie:[{required:!0,message:"必填",trigger:"blur"}],jietidengji:[{required:!0,message:"必填",trigger:"blur"}],shenbaotype:[{required:!0,message:"必填",trigger:"blur"}],chengguotype:[{required:!0,message:"必填",trigger:"blur"}],danwei:[{required:!0,message:"必填",trigger:"blur"}]}}},created:function(){var e=this;Object(r.m)().then(function(t){e.teacher_list=t})},methods:{uploadSuccess:function(e,t,i){this.form.path=e},handleChange:function(e,t){this.$message.warning("当前限制选择 1 个文件，请删除后继续上传！")},onSubmit:function(){var e=this;console.log(this.form.path),this.$refs.subform.validate(function(t){t?Object(a.i)(e.form).then(function(t){0!==t.data?e.$message.success("添加成功"):e.$message.error("添加失败，成果已被申报"),e.reload()}):e.$message.error("请完善信息")})}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"crumbs"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[i("i",{staticClass:"el-icon-tickets"}),e._v("社科处项目申报")])],1)],1),e._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"form-box"},[i("el-form",{ref:"subform",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[i("el-form-item",{attrs:{label:"申报类型",prop:"shenbaotype"}},[i("el-select",{staticStyle:{width:"50%"},attrs:{filterable:""},model:{value:e.form.shenbaotype,callback:function(t){e.$set(e.form,"shenbaotype",t)},expression:"form.shenbaotype"}},e._l(e.typeList,function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"部门",prop:"partment"}},[i("el-input",{model:{value:e.form.partment,callback:function(t){e.$set(e.form,"partment",t)},expression:"form.partment"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"认定单位",prop:"danwei"}},[i("el-input",{model:{value:e.form.danwei,callback:function(t){e.$set(e.form,"danwei",t)},expression:"form.danwei"}})],1),e._v(" "),"社科处_7.科研获奖"===e.form.shenbaotype?i("el-form-item",{attrs:{label:"成果类别",prop:"chengguotype"}},[i("el-input",{model:{value:e.form.chengguotype,callback:function(t){e.$set(e.form,"chengguotype",t)},expression:"form.chengguotype"}})],1):e._e(),e._v(" "),"社科处_7.科研获奖"===e.form.shenbaotype?i("el-form-item",{attrs:{label:"获奖类别",prop:"huojiangleibie"}},[i("el-input",{model:{value:e.form.huojiangleibie,callback:function(t){e.$set(e.form,"huojiangleibie",t)},expression:"form.huojiangleibie"}})],1):e._e(),e._v(" "),"社科处_7.科研获奖"===e.form.shenbaotype?i("el-form-item",{attrs:{label:"奖励等级",prop:"jianglidengji"}},[i("el-input",{model:{value:e.form.jianglidengji,callback:function(t){e.$set(e.form,"jianglidengji",t)},expression:"form.jianglidengji"}})],1):e._e(),e._v(" "),"社科处_7.科研获奖"===e.form.shenbaotype?i("el-form-item",{attrs:{label:"奖励级别",prop:"jianglijibie"}},[i("el-input",{model:{value:e.form.jianglijibie,callback:function(t){e.$set(e.form,"jianglijibie",t)},expression:"form.jianglijibie"}})],1):e._e(),e._v(" "),"社科处_3.纵向结题"===e.form.shenbaotype?i("el-form-item",{attrs:{label:"项目级别",prop:"xiangmujibie"}},[i("el-input",{model:{value:e.form.xiangmujibie,callback:function(t){e.$set(e.form,"xiangmujibie",t)},expression:"form.xiangmujibie"}})],1):e._e(),e._v(" "),"社科处_3.纵向结题"===e.form.shenbaotype?i("el-form-item",{attrs:{label:"结题等级",prop:"jietidengji"}},[i("el-input",{model:{value:e.form.jietidengji,callback:function(t){e.$set(e.form,"jietidengji",t)},expression:"form.jietidengji"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"参与人情况",prop:"people"}},[i("el-select",{attrs:{multiple:"",filterable:""},model:{value:e.form.people,callback:function(t){e.$set(e.form,"people",t)},expression:"form.people"}},e._l(e.teacher_list,function(e){return i("el-option",{key:e.badge,attrs:{label:e.badge+"—"+e.name,value:e.badge}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"日期时间",prop:"finishtime"}},[i("el-col",{attrs:{span:11}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.finishtime,callback:function(t){e.$set(e.form,"finishtime",t)},expression:"form.finishtime"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"证明材料",prop:"path"}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"70px"}},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",accept:".zip",action:"http://localhost:8080/ZongXiangKeYanMetials",limit:1,"on-exceed":e.handleChange,"on-success":e.uploadSuccess,"show-file-list":!0}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("将压缩包拖到此处，或"),i("em",[e._v("点击上传")])])])],1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),i("router-link",{attrs:{to:"/新系统项目申报"}},[i("el-button",[e._v("取消")])],1)],1)],1)],1)])])},staticRenderFns:[]},n=i("VU/8")(l,o,!1,null,null,null);t.default=n.exports}});